<!DOCTYPE html>
<html>
    <head>
        <title>Laboratoria 2</title>
        <meta charset="UTF-8" >
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="style.css">
        <script src="script.js"></script>
    </head>
    <body>  
        <div class="wrapper">
            <section class="modal_section">
                <div id="modal_header" class="modal_header">
                    <p> Delete </p>
                </div>
                <div id="modal_content" class="modal_content">
                    <p> Are you sure you want to delete this action?</p>
                    <button id="yesButton" class="yes"> Yes please</button>
                    <button id="noButton" class="no"> No thank you</button>
                </div>
                <div id="modal_footer" class="modal_footer">
                    <p> This action might be irreversible! </p>
                </div>
            </section>
            <section class="top_section">
                <header>
                    <h1>Interactive ToDo List</h1>
                </header>
            </section>
            <section class="content_section">
                <section class="text_prompt">
                        <input type="text" id="new_action" class="text_prompt_input" placeholder="Write things you need to do! 🐸" required>
                        <button id="submit_button" onclick="ToDo()" class="text_prompt_button">submit</button>
                </section>
                <section class="text_list">
                    <section id="remove_list">
                        <ul id="removal_main">
                        </ul>
                    </section>
                    <section id="action_list" class="actions"> 
                        <ul id="main_list">
                        </ul>
                    </section>
                    <section id="data_list" class="text_date">
                        <ul id="main_dates">
                        </ul>
                    </section>
                </section>
            </section>
        </div>
        <!-- JQuery portion of the excercise-->
        <script>
            var text_removal = "<li class=x_button> ✖ </li>";

            $("#submit_button").click(function()
            {
                $("#action_list").has("li").each(function(index)
                {
                    var temp = $(this);
                    $("#removal_main").append(text_removal);
                });
            });

            $(document).on("click",".x_button",function()
            {
                $(".modal_section").css("display","block");
                
                var index = $(this).index();
                $("#yesButton").click(function(){
                var list_act = $("li.bulletpoint").toArray();
                var list_date = $("li.text_date").toArray();
                var list_rem = $("li.x_button").toArray();
                list_act[index].remove();
                list_date[index].remove();
                list_rem[index].remove();

                $(".modal_section").css("display","none");
                $(this).off();
                });
                
                $("#noButton").click(function(){
                    $(".modal_section").css("display","none");
                    $(this).off();
                });

            });

        </script>
 
    </body>

</html>
